# 企业AI技术生态合作伙伴管理系统 - 完整数据库字段列表

## 1. 企业主表 (enterprises)

### 1.1 基础信息字段
| 字段名 | 类型 | 描述 | 备注 |
|--------|------|------|------|
| id | BIGSERIAL | 主键，自增ID | - |
| 企业名称 | VARCHAR(255) | 企业名称 | 唯一，必填 |
| 统一社会信用代码 | VARCHAR(18) | 企业统一社会信用代码 | 18位编码，唯一标识 |
| 法定代表人 | VARCHAR(100) | 企业法定代表人 | - |
| 成立日期 | DATE | 企业成立日期 | - |
| 企业性质 | VARCHAR(50) | 企业性质 | 如：有限责任公司、股份有限公司 |
| 经营状态 | VARCHAR(20) | 企业经营状态 | 存续、注销、吊销等 |

### 1.2 AI技术生态字段
| 字段名 | 类型 | 描述 | 备注 |
|--------|------|------|------|
| 飞桨_文心 | VARCHAR(20) | AI技术类型 | 只能为"飞桨"或"文心" |
| 线索入库时间 | VARCHAR(10) | 线索入库时间 | 格式：YYYYQ[1-4]，如2025Q4 |
| 线索更新时间 | TIMESTAMPTZ | 线索更新时间 | 自动更新 |
| 伙伴等级 | VARCHAR(20) | 伙伴等级 | "认证级"、"优选级"、"无" |
| 生态AI产品 | TEXT | 生态AI产品 | - |
| 优先级 | VARCHAR(10) | 企业优先级 | "P0"、"P1"、"P2" |
| 技术接入类型 | VARCHAR(50) | 技术接入类型 | "基础接入"、"深度合作"、"定制开发" |
| AI产品应用场景 | JSONB | AI产品应用场景 | JSON数组格式 |
| 技术难度评级 | VARCHAR(20) | 技术难度评级 | "简单"、"中等"、"复杂"、"极复杂" |
| 项目阶段 | VARCHAR(20) | 项目阶段 | "接触阶段"到"完成阶段" |

### 1.3 企业实力字段
| 字段名 | 类型 | 描述 | 备注 |
|--------|------|------|------|
| base | TEXT | 企业所在地 | - |
| 所在区域 | VARCHAR(20) | 企业所在区域 | "西北"、"西南"、"华南"、"华东"、"华北"、"华中" |
| 详细地址 | TEXT | 企业详细地址 | - |
| 注册资本 | BIGINT | 注册资本（万元） | - |
| 实缴资本 | BIGINT | 实缴资本（万元） | - |
| 参保人数 | INTEGER | 参保人数 | - |
| 技术人员数量 | INTEGER | 技术人员数量 | - |
| AI技术人员数量 | INTEGER | AI技术人员数量 | - |
| 研发投入占比 | DECIMAL(5,2) | 研发投入占比 | 百分比，0-100 |
| 年度营收 | NUMERIC(15,2) | 年度营收（万元） | - |
| 净利润 | NUMERIC(15,2) | 净利润（万元） | - |
| 资产总额 | NUMERIC(15,2) | 资产总额（万元） | - |
| 净资产 | NUMERIC(15,2) | 净资产（万元） | - |
| 负债总额 | NUMERIC(15,2) | 负债总额（万元） | - |
| 专利数量 | INTEGER | 专利数量 | - |
| 软件著作权数量 | INTEGER | 软件著作权数量 | - |
| 技术认证 | JSONB | 技术认证 | JSON数组，如ISO认证、CMMI认证等 |
| 技术栈 | JSONB | 技术栈 | 使用的技术栈列表 |

### 1.4 业务信息字段
| 字段名 | 类型 | 描述 | 备注 |
|--------|------|------|------|
| 企业背景 | TEXT | 企业背景 | 50-200字 |
| 行业 | JSONB | 行业 | 所属行业标签，JSON数组 |
| 细分领域 | JSONB | 细分领域 | "智能客服"、"OCR"、"目标检测"等 |
| 主营业务 | TEXT | 主营业务 | - |
| 服务客户数量 | INTEGER | 服务客户数量 | - |
| 服务行业数量 | INTEGER | 服务行业数量 | - |
| 市场占有率 | DECIMAL(5,2) | 市场占有率 | 百分比 |
| 年增长率 | DECIMAL(5,2) | 年增长率 | 百分比 |
| 客户满意度 | DECIMAL(5,2) | 客户满意度 | 百分比 |

### 1.5 合作信息字段
| 字段名 | 类型 | 描述 | 备注 |
|--------|------|------|------|
| 合作起始时间 | DATE | 合作起始时间 | - |
| 合作年限 | INTEGER | 合作年限 | 单位：年 |
| 年度预算 | NUMERIC(15,2) | 年度预算（万元） | - |
| 合作类型 | VARCHAR(50) | 合作类型 | "技术合作"、"产品合作"、"服务合作"、"生态合作" |
| 合作状态 | VARCHAR(20) | 合作状态 | "洽谈中"到"已终止" |
| 合同金额 | NUMERIC(15,2) | 合同金额（万元） | - |
| 项目ROI | DECIMAL(5,2) | 项目投资回报率 | 百分比 |
| 百度对接人 | JSONB | 百度对接人信息 | JSON对象格式 |
| 企业对接人 | JSONB | 企业对接人信息 | JSON对象格式 |

### 1.6 技术能力字段
| 字段名 | 类型 | 描述 | 备注 |
|--------|------|------|------|
| 技术团队规模 | INTEGER | 技术团队规模 | - |
| 算法工程师数 | INTEGER | 算法工程师数 | - |
| 数据科学家数 | INTEGER | 数据科学家数 | - |
| AI项目经验 | VARCHAR(20) | AI项目经验 | "0-1年"到"5年以上" |
| 开发能力等级 | VARCHAR(20) | 开发能力等级 | "初级"到"专家" |
| 技术栈深度 | VARCHAR(20) | 技术栈深度 | "浅层"到"专精" |
| 技术痛点 | TEXT | 技术痛点 | 企业在AI技术方面的痛点 |
| 技术需求 | JSONB | 技术需求 | 企业对AI技术的具体需求 |

### 1.7 百度AI生态字段
| 字段名 | 类型 | 描述 | 备注 |
|--------|------|------|------|
| 百度AI产品集成 | JSONB | 百度AI产品集成 | EasyDL、UNIT、NLP等 |
| 文心接入等级 | VARCHAR(20) | 文心接入等级 | "基础版"、"专业版"、"企业版" |
| 飞桨定制化程度 | VARCHAR(20) | 飞桨定制化程度 | "标准版"到"深度定制" |
| API调用量 | BIGINT | API调用量 | 月度 |
| 服务使用频次 | VARCHAR(20) | 服务使用频次 | "高频"、"中频"、"低频" |
| 技术反馈满意度 | DECIMAL(5,2) | 技术反馈满意度 | 百分比 |
| 服务使用周期 | INTEGER | 服务使用周期 | 单位：月 |
| 技术培训次数 | INTEGER | 技术培训次数 | - |
| 技术支持记录 | JSONB | 技术支持记录 | 技术支持历史 |
| 合作项目数量 | INTEGER | 合作项目数量 | - |

### 1.8 百度BMO互动经历字段
| 字段名 | 类型 | 描述 | 备注 |
|--------|------|------|------|
| BMO互动活动 | JSONB | BMO互动活动记录 | JSON数组，记录所有与BMO的互动活动 |
| 最近BMO活动 | JSONB | 最近BMO活动 | 最近的一次活动详情 |
| 活动参与频次 | VARCHAR(20) | 活动参与频次 | "高"、"中"、"低" |
| 活动偏好 | JSONB | 活动偏好 | 企业偏好的活动类型 |
| 合作满意度 | DECIMAL(5,2) | 合作满意度 | 百分比 |
| 历史合作项目 | JSONB | 历史合作项目 | 所有历史合作项目记录 |

### 1.9 联系人信息字段
| 字段名 | 类型 | 描述 | 备注 |
|--------|------|------|------|
| 联系人信息 | TEXT | 联系人信息 | - |
| 技术负责人 | JSONB | 技术负责人信息 | JSON对象格式 |
| 业务负责人 | JSONB | 业务负责人信息 | JSON对象格式 |
| 项目负责人 | JSONB | 项目负责人信息 | JSON对象格式 |
| 决策人 | JSONB | 决策人信息 | JSON对象格式 |
| 采购联系人 | JSONB | 采购联系人信息 | JSON对象格式 |

### 1.10 使用场景字段
| 字段名 | 类型 | 描述 | 备注 |
|--------|------|------|------|
| 使用场景 | TEXT | 使用场景 | - |
| 业务场景 | JSONB | 业务场景 | 具体业务应用场景，JSON数组 |
| 部署场景 | VARCHAR(20) | 部署场景 | "云端部署"、"本地部署"、"混合部署" |
| 业务规模 | VARCHAR(20) | 业务规模 | "小规模"到"超大规模" |
| 数据敏感度 | VARCHAR(20) | 数据敏感度 | "低"到"极高" |
| 行业影响力 | VARCHAR(20) | 行业影响力 | "一般"到"行业领袖" |

### 1.11 管理字段
| 字段名 | 类型 | 描述 | 备注 |
|--------|------|------|------|
| 创建时间 | TIMESTAMPTZ | 记录创建时间 | 自动创建 |
| 更新时间 | TIMESTAMPTZ | 记录更新时间 | 自动更新 |
| 创建人 | VARCHAR(100) | 记录创建人 | - |
| 更新人 | VARCHAR(100) | 记录更新人 | - |
| 负责销售 | VARCHAR(100) | 负责销售 | 负责该企业的销售 |
| 所属区域(销售) | VARCHAR(50) | 所属销售区域 | 销售区域划分 |
| 销售渠道 | VARCHAR(100) | 获客渠道 | - |
| 客户等级 | VARCHAR(20) | 客户等级 | "普通客户"、"重要客户"、"战略客户" |
| 备注信息 | TEXT | 备注信息 | - |
| 标签 | JSONB | 自定义标签 | JSON数组格式 |
| 状态 | VARCHAR(20) | 记录状态 | "active"、"inactive"、"suspended" |

## 2. 企业进展表 (enterprise_progress)

| 字段名 | 类型 | 描述 | 备注 |
|--------|------|------|------|
| id | BIGSERIAL | 主键，自增ID | - |
| enterprise_id | BIGINT | 企业ID | 外键，关联enterprises表 |
| 进展类型 | VARCHAR(20) | 进展类型 | "本周进展"、"上周进展"、"月度进展"、"季度总结" |
| 进展内容 | TEXT | 进展内容 | - |
| 关键成果 | JSONB | 关键成果 | 取得的关键成果，JSON数组 |
| 当前挑战 | JSONB | 当前挑战 | 面临的主要挑战，JSON数组 |
| 解决方案 | JSONB | 解决方案 | 解决方案，JSON数组 |
| 下一步计划 | JSONB | 下一步计划 | 下一步行动计划，JSON数组 |
| 参与人员 | JSONB | 参与人员 | 参与人员列表，JSON数组 |
| 重要决策 | TEXT | 重要决策 | 期间的重要决策 |
| 资源投入 | JSONB | 资源投入 | 人力、资金、设备等资源，JSON对象 |
| 关键里程碑 | JSONB | 关键里程碑 | 达成的关键节点，JSON数组 |
| 风险识别 | JSONB | 风险识别 | 识别的风险点，JSON数组 |
| 风险应对 | JSONB | 风险应对 | 风险应对措施，JSON数组 |
| 客户需求变化 | JSONB | 客户需求变化 | 客户需求变化，JSON数组 |
| 竞品动态 | JSONB | 竞品动态 | 竞争对手动态，JSON数组 |
| 市场反馈 | JSONB | 市场反馈 | 市场反馈信息，JSON数组 |
| 技术难点 | JSONB | 技术难点 | 技术实现难点，JSON数组 |
| 合作协调 | JSONB | 合作协调 | 与合作方的协调事项，JSON数组 |
| 创建时间 | TIMESTAMPTZ | 创建时间 | 自动创建 |
| 更新时间 | TIMESTAMPTZ | 更新时间 | 自动更新 |
| 创建人 | VARCHAR(100) | 创建人 | - |
| 更新人 | VARCHAR(100) | 更新人 | - |

## 3. AI项目表 (ai_projects)

| 字段名 | 类型 | 描述 | 备注 |
|--------|------|------|------|
| id | BIGSERIAL | 主键，自增ID | - |
| enterprise_id | BIGINT | 企业ID | 外键，关联enterprises表 |
| 项目名称 | VARCHAR(200) | 项目名称 | - |
| 项目类型 | VARCHAR(50) | 项目类型 | 如"智能客服"、"OCR识别"、"图像处理"等 |
| 项目阶段 | VARCHAR(20) | 项目阶段 | "需求分析"、"开发中"、"测试中"、"已上线" |
| 项目负责人 | VARCHAR(100) | 项目负责人 | - |
| 预算金额 | NUMERIC(12,2) | 预算金额 | - |
| 实际花费 | NUMERIC(12,2) | 实际花费 | - |
| 开始时间 | DATE | 开始时间 | - |
| 预计完成时间 | DATE | 预计完成时间 | - |
| 实际完成时间 | DATE | 实际完成时间 | - |
| 项目状态 | VARCHAR(20) | 项目状态 | "进行中"、"已完成"、"已暂停"、"已取消" |
| 技术难点 | TEXT | 技术难点 | - |
| 项目成果 | TEXT | 项目成果 | - |
| ROI | DECIMAL(5,2) | 投资回报率 | 百分比 |
| 项目评分 | DECIMAL(3,2) | 项目评分 | 0-10分 |
| 创建时间 | TIMESTAMPTZ | 创建时间 | 自动创建 |
| 更新时间 | TIMESTAMPTZ | 更新时间 | 自动更新 |

## 4. 企业文档表 (enterprise_documents)

| 字段名 | 类型 | 描述 | 备注 |
|--------|------|------|------|
| id | BIGSERIAL | 主键，自增ID | - |
| enterprise_id | BIGINT | 企业ID | 外键，关联enterprises表 |
| 文档类型 | VARCHAR(50) | 文档类型 | "合作协议"、"技术方案"、"验收报告"等 |
| 文档名称 | VARCHAR(200) | 文档名称 | - |
| 文件路径 | TEXT | 文件路径 | - |
| 文件大小 | BIGINT | 文件大小 | 单位：字节 |
| 上传时间 | TIMESTAMPTZ | 上传时间 | 自动创建 |
| 上传人 | VARCHAR(100) | 上传人 | - |
| 版本号 | VARCHAR(20) | 版本号 | - |
| 描述 | TEXT | 描述 | - |
| 访问权限 | JSONB | 访问权限 | JSON对象格式 |
| 创建时间 | TIMESTAMPTZ | 创建时间 | 自动创建 |
| 更新时间 | TIMESTAMPTZ | 更新时间 | 自动更新 |

## 5. 企业关系表 (enterprise_relations)

| 字段名 | 类型 | 描述 | 备注 |
|--------|------|------|------|
| id | BIGSERIAL | 主键，自增ID | - |
| enterprise_id | BIGINT | 企业ID | 外键，关联enterprises表 |
| 关联企业_id | BIGINT | 关联企业ID | 外键，关联enterprises表 |
| 关系类型 | VARCHAR(50) | 关系类型 | "供应商"、"客户"、"合作伙伴"等 |
| 关系描述 | TEXT | 关系描述 | - |
| 建立时间 | DATE | 建立时间 | - |
| 状态 | VARCHAR(20) | 关系状态 | "合作中"、"已终止"、"洽谈中" |
| 创建时间 | TIMESTAMPTZ | 创建时间 | 自动创建 |
| 更新时间 | TIMESTAMPTZ | 更新时间 | 自动更新 |

## 6. 审计日志表 (audit_logs)

| 字段名 | 类型 | 描述 | 备注 |
|--------|------|------|------|
| id | BIGSERIAL | 主键，自增ID | - |
| 表名 | VARCHAR(100) | 操作的表名 | - |
| 记录ID | BIGINT | 记录ID | 被操作的记录ID |
| 操作类型 | VARCHAR(10) | 操作类型 | "INSERT"、"UPDATE"、"DELETE" |
| 旧值 | JSONB | 旧值 | 操作前的值 |
| 新值 | JSONB | 新值 | 操作后的值 |
| 操作人 | VARCHAR(100) | 操作人 | 执行操作的用户 |
| IP地址 | INET | IP地址 | 操作来源IP |
| 操作时间 | TIMESTAMPTZ | 操作时间 | 自动创建 |

## 7. 索引建议

### 7.1 企业表索引
- 企业名称唯一索引 (企业名称)
- AI技术类型复合索引 (飞桨_文心)
- 优先级复合索引 (优先级)
- 伙伴等级复合索引 (伙伴等级)
- 所在区域复合索引 (所在区域)
- 线索入库时间复合索引 (线索入库时间)
- 线索更新时间复合索引 (线索更新时间 DESC)
- 注册资本复合索引 (注册资本)
- 参保人数复合索引 (参保人数)
- 任务方向复合索引 (任务方向)
- 全文搜索索引 (企业名称, 企业背景, 使用场景, 生态AI产品)

### 7.2 进展表索引
- 企业ID索引 (enterprise_id)
- 更新时间索引 (更新时间 DESC)

### 7.3 AI项目表索引
- 企业ID索引 (enterprise_id)
- 项目阶段索引 (项目阶段)

### 7.4 文档表索引
- 企业ID索引 (enterprise_id)
- 文档类型索引 (文档类型)

## 8. 数据完整性约束

### 8.1 检查约束
- 企业背景长度：50-200字符
- 线索入库时间格式：YYYYQ[1-4]格式
- 企业名称唯一性
- 注册资本、参保人数非负
- 优先级、伙伴等级、技术类型枚举值验证

### 8.2 触发器
- 自动更新线索更新时间触发器
- 自动更新更新时间触发器
- 审计日志触发器
- 验证企业数据触发器

---

**说明**: 
1. 所有JSONB字段支持动态扩展，可存储复杂对象和数组
2. 使用PostgreSQL的JSONB类型实现动态字段扩展
3. 所有时间戳字段自动设置时区
4. 数据库设计支持水平扩展，适合处理大量企业数据
5. 百度BMO互动经历通过JSONB字段灵活记录
6. 所有敏感字段（如联系方式）加密存储（可选）
7. 全文搜索通过GIN索引优化查询性能