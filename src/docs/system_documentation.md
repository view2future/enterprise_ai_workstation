# 企业AI工作站系统文档

## 项目概述

企业AI工作站是一个综合性的企业数据管理平台，专注于区域内AI产业企业的信息管理、分析和协作。该系统帮助企业分析师和运营人员高效管理企业数据，支持批量导入、智能筛选、可视化分析和运营支撑等功能。

## 系统架构

### 技术栈
- **前端**: React, Tailwind CSS, neubrutalism设计风格
- **后端**: Node.js, Express.js
- **数据库**: PostgreSQL
- **API**: RESTful API设计

### 目录结构
```
enterprise_ai_workstation/
├── src/                    # 源代码目录
│   ├── api/               # API路由定义
│   ├── components/        # React组件
│   │   ├── dashboard/     # 仪表盘组件
│   │   ├── enterprise/    # 企业管理组件
│   │   ├── import-export/ # 导入导出组件
│   │   ├── filter/        # 筛选组件
│   │   └── common/        # 通用组件
│   ├── controllers/       # 控制器
│   ├── models/            # 数据模型
│   ├── views/             # 视图层
│   ├── utils/             # 工具函数
│   ├── tests/             # 测试代码
│   └── docs/              # 文档
├── frontend_demo/         # 前端演示文件
├── paraflow/              # PRD和设计文档
├── database_init.sql      # 数据库初始化脚本
└── server.js              # 主服务器文件
```

## 功能模块

### 1. 仪表盘 (Dashboard)
- **企业总数统计**: 显示平台内企业总数
- **AI应用企业统计**: 具备AI应用能力的企业数量及占比
- **百度AI用户统计**: 使用百度AI产品的企业数量及占比
- **新增企业趋势**: 最近30天新增企业数
- **行业分布图表**: 柱状图展示各行业企业分布
- **AI场景分布图表**: 展示AI应用场景分布
- **成熟度分布图表**: 饼图展示AI技术成熟度分布
- **趋势分析图表**: 折线图展示企业增长趋势
- **可点击钻取**: 所有图表区块支持点击，自动跳转到对应筛选条件的企业列表

### 2. 企业管理
- **企业列表**: 展示所有企业基本信息，支持分页、搜索和排序
- **企业详情**: 查看企业完整信息，包括基本信息、AI应用信息、背景等
- **企业编辑**: 修改企业信息，支持所有字段的编辑
- **企业删除**: 软删除企业信息
- **实时搜索**: 支持按企业名称、背景、场景等字段搜索

### 3. 高级筛选
- **多维筛选**: 支持按地区、行业、优先级、AI使用状态等多个维度筛选
- **条件组合**: 自由组合多个筛选条件，支持"且"和"或"逻辑
- **筛选模板**: 保存常用筛选条件为模板，支持重用
- **实时预览**: 筛选条件变化时实时显示匹配企业数量
- **预设模板**: 提供常用筛选场景的预设模板

### 4. 数据导入导出
- **批量导入**: 
  - 支持Excel/CSV格式文件导入
  - 提供标准导入模板下载
  - 自动字段映射和数据验证
  - 内置去重策略，避免重复数据
  - 详细的导入报告，显示成功、失败和重复的条目
- **数据导出**:
  - 支持Excel和CSV格式导出
  - 自定义导出字段选择
  - 预设导出模板（基础信息、AI应用、融资信息等）
  - 支持导出当前筛选结果

### 5. 用户权限管理
- **角色定义**:
  - 分析师: 可查看所有数据，编辑企业信息，管理筛选模板
  - 运营人员: 可查看所有数据，添加运营标签，管理自己的筛选模板
  - 管理员: 拥有所有权限，包括用户管理和系统配置

## API端点

### 企业相关
- `GET /api/enterprises` - 获取企业列表（支持分页、搜索、筛选）
- `GET /api/enterprises/:id` - 获取企业详情
- `POST /api/enterprises` - 创建企业
- `PUT /api/enterprises/:id` - 更新企业
- `DELETE /api/enterprises/:id` - 删除企业
- `POST /api/enterprises/batch-import` - 批量导入企业

### 仪表盘相关
- `GET /api/ai-ecosystem-stats` - 获取AI生态统计信息

### 系统相关
- `GET /health` - 系统健康检查

## 数据模型

### 企业表 (enterprises)
- id: 主键，bigint
- 企业名称: varchar(255)，企业名称，唯一且必填
- 飞桨_文心: varchar(20)，使用的百度AI产品（飞桨/文心）
- 线索入库时间: varchar(10)，格式为YYYYQ[1-4]
- 线索更新时间: timestamp with time zone，最后更新时间
- 伙伴等级: varchar(20)，认证等级（认证级/优选级/无）
- 生态ai产品: text，使用的AI产品详情
- 优先级: varchar(10)，企业优先级（P0/P1/P2）
- base: text，企业所在地区/城市
- 注册资本: bigint，注册资本
- 参保人数: integer，员工数量
- 企业背景: text，企业简介
- 行业: jsonb，企业所属行业（数组格式）
- 任务方向: text，主要业务方向
- 联系人信息: text，联系人详情
- 使用场景: text，AI应用场景
- status: varchar(20)，记录状态（active/deleted）
- created_at, updated_at: 时间戳

## 设计规范

### neubrutalism设计风格
- **厚重边框**: 4px边框强调元素
- **块状阴影**: 6px 6px 0 0 阴影效果
- **高对比度**: 明亮的颜色搭配深色边框
- **粗体字体**: 强调重要信息
- **几何形状**: 简洁的矩形和圆形元素

### 响应式设计
- 支持桌面端和大屏显示
- 网格布局自适应不同屏幕尺寸
- 移动端友好的触摸交互

## 部署指南

### 环境要求
- Node.js 14+
- PostgreSQL 数据库
- 环境变量配置

### 环境变量配置
```
DB_USER=数据库用户名
DB_HOST=数据库主机地址
DB_NAME=数据库名称
DB_PASSWORD=数据库密码
DB_PORT=数据库端口
PORT=应用端口
```

### 启动步骤
1. 安装依赖：`npm install`
2. 数据库初始化：执行 `database_init.sql`
3. 启动服务器：`node src/app.js`
4. 访问应用：`http://localhost:3001`

## 测试策略

### 单元测试
- 模型层：测试数据操作方法
- 控制器层：测试API响应
- 工具函数：测试业务逻辑

### 集成测试
- API端点功能测试
- 数据库连接测试
- 用户权限测试

### 端到端测试
- 主要用户流程验证
- 数据导入导出功能验证
- 筛选和搜索功能验证

## 性能优化

- 数据库查询优化，使用索引提高查询效率
- 分页加载，避免一次性加载大量数据
- API响应缓存，减少重复计算
- 前端组件优化，使用虚拟滚动处理大数据列表

## 安全考虑

- 输入验证：所有输入数据进行验证和清理
- SQL注入防护：使用参数化查询
- 用户权限控制：基于角色的访问控制
- 数据加密：敏感数据传输加密
- 操作日志：记录关键操作日志

## 维护与扩展

### 监控指标
- API响应时间
- 数据库性能
- 系统可用性
- 用户活跃度

### 扩展建议
- 添加机器学习功能
- 实现数据可视化增强
- 集成外部数据源
- 开发移动应用
- 添加工作流管理功能